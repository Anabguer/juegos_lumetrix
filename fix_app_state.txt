LÃ­neas 339-372 del archivo frontend/src/App.jsx

BORRAR TODO DESDE:
  // Control de visibilidad: pausar mÃºsica cuando la app va a segundo plano

HASTA:
  */

Y REEMPLAZAR CON:
  // âœ… Control de visibilidad: pausar mÃºsica cuando la app va a segundo plano
  useEffect(() => {
    let appStateListener;
    
    const setupCapacitorListener = async () => {
      if (!window.Capacitor?.Plugins?.App) return;
      
      try {
        const { App } = window.Capacitor.Plugins;
        appStateListener = await App.addListener('appStateChange', ({ isActive }) => {
          if (!bgAudioRef.current) return;
          
          if (!isActive) {
            if (!bgAudioRef.current.paused) {
              bgAudioRef.current.pause();
              console.log('ğŸ”‡ [APP] MÃºsica pausada (app en segundo plano)');
            }
          } else {
            if (musicOn && bgAudioRef.current.paused && bgAudioRef.current.src) {
              bgAudioRef.current.play().catch(e => console.log('âŒ [APP] Error reanudando mÃºsica:', e));
              console.log('ğŸ”Š [APP] MÃºsica reanudada (app activa)');
            }
          }
        });
        
        console.log('âœ… [APP] Listener de estado de app configurado');
      } catch (e) {
        console.error('âŒ [APP] Error configurando listener:', e);
      }
    };

    setupCapacitorListener();

    return () => {
      if (appStateListener && appStateListener.remove) {
        appStateListener.remove();
        console.log('ğŸ—‘ï¸ [APP] Listener de estado de app removido');
      }
    };
  }, [musicOn]);

