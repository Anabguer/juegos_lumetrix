Options -Indexes

# Bloquea solo archivos sensibles
<FilesMatch "\.(log|sql|md|example|env|config|ini|bak)$">
  Require all denied
</FilesMatch>

# Permite imágenes, JS, CSS, audio, HTML y PHP
<FilesMatch "\.(png|jpg|jpeg|gif|webp|svg|css|js|mp3|ogg|wav|woff|woff2|html|htm|php)$">
  Require all granted
  Satisfy Any
</FilesMatch>

# Tipos MIME básicos
<IfModule mod_mime.c>
  AddType image/svg+xml .svg
  AddType audio/mpeg .mp3
  AddType audio/ogg .ogg
  AddType font/woff2 .woff2
</IfModule>

# CORS para APK y web
<IfModule mod_headers.c>
  Header always set Access-Control-Allow-Origin "*"
  Header always set Access-Control-Allow-Methods "GET, POST, OPTIONS"
  Header always set Access-Control-Allow-Headers "Content-Type, Authorization"
  Header always set Access-Control-Allow-Credentials "true"
</IfModule>

# Responder a peticiones OPTIONS (preflight CORS)
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteCond %{REQUEST_METHOD} OPTIONS
  RewriteRule ^(.*)$ $1 [R=204,L]
</IfModule>

# Cabeceras seguras
<IfModule mod_headers.c>
  Header set X-Content-Type-Options "nosniff"
  Header set X-Frame-Options "SAMEORIGIN"
</IfModule>
